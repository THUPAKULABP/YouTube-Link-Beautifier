<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TubeLink - Beautiful YouTube Links</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

        /* Gradient Animation */
        .gradient-text {
            background: linear-gradient(to right, #60a5fa, #c084fc, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: gradient 5s linear infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        
        // --- Inline Icon Components (Replaces external Lucide dependency) ---
        const IconBase = ({ children, ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width="24" 
                height="24" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                {...props}
            >
                {children}
            </svg>
        );

        const Link2 = (props) => (
            <IconBase {...props}>
                <path d="M9 17H7A5 5 0 0 1 7 7h2" />
                <path d="M15 7h2a5 5 0 0 1 5 5 0 0 1-5 5h-2" />
                <line x1="8" y1="12" x2="16" y2="12" />
            </IconBase>
        );

        const Youtube = (props) => (
            <IconBase {...props}>
                <path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17" />
                <path d="m10 15 5-3-5-3z" />
            </IconBase>
        );

        const Copy = (props) => (
            <IconBase {...props}>
                <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
                <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" />
            </IconBase>
        );

        const Check = (props) => (
            <IconBase {...props}>
                <path d="M20 6 9 17l-5-5" />
            </IconBase>
        );

        const Code = (props) => (
            <IconBase {...props}>
                <polyline points="16 18 22 12 16 6" />
                <polyline points="8 6 2 12 8 18" />
            </IconBase>
        );

        const Eye = (props) => (
            <IconBase {...props}>
                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                <circle cx="12" cy="12" r="3" />
            </IconBase>
        );

        const Play = (props) => (
            <IconBase {...props}>
                <polygon points="5 3 19 12 5 21 5 3" />
            </IconBase>
        );

        const Settings = (props) => (
            <IconBase {...props}>
                <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
                <circle cx="12" cy="12" r="3" />
            </IconBase>
        );

        const Sparkles = (props) => (
            <IconBase {...props}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
                <path d="M5 3v4" />
                <path d="M9 5H5" />
            </IconBase>
        );

        const ExternalLink = (props) => (
            <IconBase {...props}>
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
                <polyline points="15 3 21 3 21 9" />
                <line x1="10" y1="14" x2="21" y2="3" />
            </IconBase>
        );
        // -------------------------------------------------------------------

        const App = () => {
            const [url, setUrl] = useState('');
            const [title, setTitle] = useState('Watch this amazing video');
            const [theme, setTheme] = useState('hero'); // hero, compact, neon
            const [videoId, setVideoId] = useState(null);
            const [copied, setCopied] = useState(false);

            // Extract Video ID logic
            useEffect(() => {
                if (!url) {
                    setVideoId(null);
                    return;
                }

                let id = '';
                try {
                    // Handle iframe src extraction if user pastes full embed code
                    let cleanUrl = url;
                    if (url.includes('<iframe')) {
                        const srcMatch = url.match(/src="([^"]+)"/);
                        if (srcMatch) cleanUrl = srcMatch[1];
                    }

                    // Regex for various YouTube URL formats
                    const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
                    const match = cleanUrl.match(regExp);

                    if (match && match[2].length === 11) {
                        id = match[2];
                    }
                } catch (e) {
                    console.error("Error parsing URL", e);
                }
                
                setVideoId(id || null);
            }, [url]);

            const copyToClipboard = () => {
                const code = generateCode();
                navigator.clipboard.writeText(code).then(() => {
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                });
            };

            const thumbnailUrl = videoId 
                ? `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg` 
                : 'https://images.unsplash.com/photo-1611162617474-5b21e879e113?q=80&w=1000&auto=format&fit=crop';
            
            const watchUrl = videoId ? `https://www.youtube.com/watch?v=${videoId}` : '#';

            // GENERATE HTML/CSS based on theme
            const generateCode = () => {
                const commonCss = `
<style>
  .yt-link-container { font-family: system-ui, -apple-system, sans-serif; text-decoration: none; color: inherit; display: inline-block; max-width: 100%; box-sizing: border-box; }
  .yt-link-container * { box-sizing: border-box; }
  .yt-hidden { display: none; }
</style>`;

                if (theme === 'hero') {
                    return `<!-- Beautiful YouTube Hero Card -->
${commonCss}
<a href="${watchUrl}" target="_blank" rel="noopener noreferrer" class="yt-link-container" style="position: relative; display: block; width: 100%; max-width: 480px; aspect-ratio: 16/9; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 30px -5px rgba(0,0,0,0.3); transition: transform 0.2s ease;">
  <img src="${thumbnailUrl}" alt="Video thumbnail" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
  <div style="position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); display: flex; flex-direction: column; justify-content: flex-end; padding: 20px;">
    <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.2); backdrop-filter: blur(4px); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 12px; border: 1px solid rgba(255,255,255,0.3);">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
    </div>
    <h3 style="color: white; margin: 0; font-size: 18px; font-weight: 600; text-shadow: 0 2px 4px rgba(0,0,0,0.3); line-height: 1.3;">${title}</h3>
    <span style="color: rgba(255,255,255,0.8); font-size: 12px; margin-top: 6px; font-weight: 500;">Watch on YouTube</span>
  </div>
</a>
<!-- End YouTube Card -->`;
                } 
                
                else if (theme === 'compact') {
                    return `<!-- Beautiful YouTube Row -->
${commonCss}
<a href="${watchUrl}" target="_blank" rel="noopener noreferrer" class="yt-link-container" style="display: flex; align-items: center; gap: 16px; background: #ffffff; border: 1px solid #e2e8f0; padding: 12px; border-radius: 12px; transition: all 0.2s ease; max-width: 450px; text-decoration: none;">
  <div style="position: relative; width: 120px; height: 68px; flex-shrink: 0; border-radius: 8px; overflow: hidden;">
    <img src="${thumbnailUrl}" alt="Thumbnail" style="width: 100%; height: 100%; object-fit: cover;">
    <div style="position: absolute; inset: 0; background: rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center;">
      <div style="width: 24px; height: 24px; background: rgba(0,0,0,0.6); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
         <svg width="12" height="12" viewBox="0 0 24 24" fill="white" stroke="none"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
      </div>
    </div>
  </div>
  <div style="flex: 1; min-width: 0;">
    <h3 style="margin: 0 0 4px 0; font-size: 15px; font-weight: 600; color: #1e293b; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${title}</h3>
    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #64748b;">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"></path><path d="m10 15 5-3-5-3z"></path></svg>
      <span>YouTube</span>
    </div>
  </div>
  <div style="color: #94a3b8;">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
  </div>
</a>
<!-- End YouTube Row -->`;
                }

                else { // neon
                     return `<!-- Beautiful YouTube Neon Button -->
${commonCss}
<a href="${watchUrl}" target="_blank" rel="noopener noreferrer" class="yt-link-container" style="display: inline-flex; align-items: center; gap: 12px; background: #000; padding: 16px 24px; border-radius: 50px; border: 1px solid #333; transition: all 0.3s ease; position: relative; overflow: hidden; group: hover;">
  <div style="position: absolute; inset: 0; background: linear-gradient(45deg, #ff0000, #ff8800); opacity: 0.15;"></div>
  <div style="width: 32px; height: 32px; background: #ff0000; border-radius: 50%; display: flex; align-items: center; justify-content: center; position: relative; z-index: 10;">
     <svg width="16" height="16" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
  </div>
  <span style="font-weight: 600; color: white; font-size: 16px; position: relative; z-index: 10;">${title}</span>
</a>
<!-- End YouTube Neon -->`;
                }
            };

            return (
                <div className="min-h-screen pb-20 px-4">
                    {/* Header */}
                    <div className="max-w-4xl mx-auto pt-16 pb-12 text-center">
                        <div className="inline-flex items-center justify-center p-3 mb-6 bg-red-500/10 rounded-full ring-1 ring-red-500/20">
                            <Youtube className="w-8 h-8 text-red-500 mr-2" />
                            <span className="text-red-400 font-semibold tracking-wide uppercase text-sm">TubeLink Converter</span>
                        </div>
                        <h1 className="text-5xl md:text-6xl font-bold mb-6 tracking-tight">
                            Turn Embeds into <br />
                            <span className="gradient-text">Beautiful Links</span>
                        </h1>
                        <p className="text-slate-400 text-lg max-w-2xl mx-auto">
                            Stop using ugly text links or heavy iframes. Create stunning, lightweight HTML preview cards for your YouTube videos in seconds.
                        </p>
                    </div>

                    <div className="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
                        
                        {/* LEFT COLUMN - CONTROLS */}
                        <div className="space-y-6">
                            <div className="glass-panel p-8 rounded-2xl">
                                <div className="flex items-center gap-3 mb-6">
                                    <Settings className="w-5 h-5 text-blue-400" />
                                    <h2 className="text-xl font-semibold text-white">Configuration</h2>
                                </div>
                                
                                <div className="space-y-6">
                                    {/* URL Input */}
                                    <div>
                                        <label className="block text-sm font-medium text-slate-300 mb-2">
                                            YouTube URL or Embed Code
                                        </label>
                                        <div className="relative">
                                            <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <Link2 className="h-5 w-5 text-slate-500" />
                                            </div>
                                            <input
                                                type="text"
                                                value={url}
                                                onChange={(e) => setUrl(e.target.value)}
                                                placeholder="https://youtube.com/watch?v=... or <iframe..."
                                                className="block w-full pl-10 pr-3 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                                            />
                                        </div>
                                        {!videoId && url && (
                                            <p className="text-red-400 text-sm mt-2 flex items-center">
                                                <span className="w-1.5 h-1.5 bg-red-400 rounded-full mr-2"></span>
                                                Invalid YouTube URL format
                                            </p>
                                        )}
                                        {videoId && (
                                            <p className="text-emerald-400 text-sm mt-2 flex items-center">
                                                <Check className="w-4 h-4 mr-1.5" />
                                                Video ID found: {videoId}
                                            </p>
                                        )}
                                    </div>

                                    {/* Title Input */}
                                    <div>
                                        <label className="block text-sm font-medium text-slate-300 mb-2">
                                            Link Title
                                        </label>
                                        <input
                                            type="text"
                                            value={title}
                                            onChange={(e) => setTitle(e.target.value)}
                                            className="block w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                                        />
                                    </div>

                                    {/* Theme Selection */}
                                    <div>
                                        <label className="block text-sm font-medium text-slate-300 mb-3">
                                            Select Style
                                        </label>
                                        <div className="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                            {[
                                                { id: 'hero', name: 'Hero Card', icon: Eye },
                                                { id: 'compact', name: 'Compact', icon: Settings },
                                                { id: 'neon', name: 'Neon Button', icon: Sparkles },
                                            ].map((t) => (
                                                <button
                                                    key={t.id}
                                                    onClick={() => setTheme(t.id)}
                                                    className={`flex flex-col items-center justify-center p-4 rounded-xl border transition-all duration-200 ${
                                                        theme === t.id 
                                                            ? 'bg-blue-600 border-blue-500 shadow-lg shadow-blue-900/50' 
                                                            : 'bg-slate-800/50 border-slate-700 hover:bg-slate-800 hover:border-slate-600'
                                                    }`}
                                                >
                                                    <t.icon className={`w-6 h-6 mb-2 ${theme === t.id ? 'text-white' : 'text-slate-400'}`} />
                                                    <span className={`text-sm font-medium ${theme === t.id ? 'text-white' : 'text-slate-300'}`}>
                                                        {t.name}
                                                    </span>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Code Output */}
                            <div className="glass-panel p-6 rounded-2xl relative overflow-hidden group">
                                <div className="flex items-center justify-between mb-4">
                                    <div className="flex items-center gap-2">
                                        <Code className="w-5 h-5 text-purple-400" />
                                        <h2 className="text-lg font-semibold text-white">Generated Code</h2>
                                    </div>
                                    <button
                                        onClick={copyToClipboard}
                                        disabled={!videoId}
                                        className={`flex items-center px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${
                                            copied 
                                                ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30' 
                                                : 'bg-slate-700 hover:bg-slate-600 text-white border border-slate-600'
                                        }`}
                                    >
                                        {copied ? (
                                            <><Check className="w-4 h-4 mr-1.5" /> Copied!</>
                                        ) : (
                                            <><Copy className="w-4 h-4 mr-1.5" /> Copy HTML</>
                                        )}
                                    </button>
                                </div>
                                <div className="relative">
                                    <pre className="block w-full p-4 bg-slate-950 rounded-xl text-slate-300 font-mono text-xs overflow-x-auto h-40 border border-slate-800">
                                        {videoId ? generateCode() : '// Paste a valid YouTube URL to generate code...'}
                                    </pre>
                                    {!videoId && (
                                        <div className="absolute inset-0 flex items-center justify-center bg-slate-950/50 backdrop-blur-[1px] rounded-xl">
                                            <span className="text-slate-500 text-sm">Waiting for input...</span>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* RIGHT COLUMN - PREVIEW */}
                        <div className="relative">
                            <div className="glass-panel rounded-2xl p-8 h-full min-h-[500px] flex flex-col relative overflow-hidden">
                                <div className="absolute top-0 right-0 p-6 opacity-20 pointer-events-none">
                                    <Sparkles className="w-32 h-32 text-purple-500" />
                                </div>

                                <div className="flex items-center justify-between mb-8 relative z-10">
                                    <div>
                                        <h2 className="text-2xl font-bold text-white mb-1">Live Preview</h2>
                                        <p className="text-slate-400 text-sm">This is exactly how it will look on your site.</p>
                                    </div>
                                    <div className="px-3 py-1 rounded-full bg-slate-800 border border-slate-700 text-xs font-mono text-slate-400">
                                        width: auto
                                    </div>
                                </div>

                                <div className="flex-1 flex items-center justify-center bg-slate-900/50 rounded-xl border border-slate-800/50 border-dashed p-8 relative">
                                    {/* Grid background pattern */}
                                    <div className="absolute inset-0 opacity-[0.03]" style={{backgroundImage: 'radial-gradient(#fff 1px, transparent 1px)', backgroundSize: '20px 20px'}}></div>
                                    
                                    {/* THE ACTUAL PREVIEW COMPONENT */}
                                    <div className="relative z-10 w-full flex justify-center">
                                        {videoId ? (
                                            <div dangerouslySetInnerHTML={{ __html: generateCode() }} />
                                        ) : (
                                            <div className="text-center">
                                                <div className="w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse">
                                                    <Youtube className="w-8 h-8 text-slate-600" />
                                                </div>
                                                <p className="text-slate-500 font-medium">Preview Area</p>
                                            </div>
                                        )}
                                    </div>
                                </div>

                                <div className="mt-6 flex items-start gap-3 p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl">
                                    <div className="p-1.5 bg-blue-500 rounded-full flex-shrink-0 mt-0.5">
                                        <ExternalLink className="w-3 h-3 text-white" />
                                    </div>
                                    <div>
                                        <h4 className="text-sm font-semibold text-blue-300 mb-1">Why use these instead of iframes?</h4>
                                        <p className="text-xs text-blue-200/70 leading-relaxed">
                                            Standard YouTube embeds (iframes) load roughly 1MB of scripts even before the user clicks play. 
                                            These HTML links are lightweight (under 2KB), good for SEO, and respect user privacy until they actually choose to watch the video.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
